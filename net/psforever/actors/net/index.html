<!DOCTYPE html ><html><head><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" name="viewport"/><title>PSF-LoginServer -  master - net.psforever.actors.net</title><meta content="PSF - LoginServer - master - net.psforever.actors.net" name="description"/><meta content="PSF LoginServer master net.psforever.actors.net" name="keywords"/><meta http-equiv="content-type" content="text/html; charset=UTF-8"/><link href="../../../../lib/index.css" media="screen" type="text/css" rel="stylesheet"/><link href="../../../../lib/template.css" media="screen" type="text/css" rel="stylesheet"/><link href="../../../../lib/print.css" media="print" type="text/css" rel="stylesheet"/><link href="../../../../lib/diagrams.css" media="screen" type="text/css" rel="stylesheet" id="diagrams-css"/><script type="text/javascript" src="../../../../lib/jquery.min.js"></script><script type="text/javascript" src="../../../../lib/index.js"></script><script type="text/javascript" src="../../../../index.js"></script><script type="text/javascript" src="../../../../lib/scheduler.js"></script><script type="text/javascript" src="../../../../lib/template.js"></script><script type="text/javascript">/* this variable can be used by the JS to determine the path to the root document */
var toRoot = '../../../../';</script></head><body><div id="search"><span id="doc-title">PSF-LoginServer - <span id="doc-version">master</span></span> <span class="close-results"><span class="left">&lt;</span> Back</span><div id="textfilter"><span class="input"><input autocapitalize="none" placeholder="Search" id="index-input" type="text" accesskey="/"/><i class="clear material-icons"></i><i id="search-icon" class="material-icons"></i></span></div></div><div id="search-results"><div id="search-progress"><div id="progress-fill"></div></div><div id="results-content"><div id="entity-results"></div><div id="member-results"></div></div></div><div id="content-scroll-container" style="-webkit-overflow-scrolling: touch;"><div id="content-container" style="-webkit-overflow-scrolling: touch;"><div id="subpackage-spacer"><div id="packages"><h1>Packages</h1><ul><li class="indented0 " name="_root_.root" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="_root_" class="anchorToMember"></a><a id="root:_root_" class="anchorToMember"></a> <span class="permalink"><a href="../../../../index.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">package</span></span> <span class="symbol"><a href="../../../../index.html" title=""><span class="name">root</span></a></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd><a href="../../../../index.html" name="_root_" id="_root_" class="extype">root</a></dd></dl></div></li><li class="indented1 " name="_root_.net" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="net" class="anchorToMember"></a><a id="net:net" class="anchorToMember"></a> <span class="permalink"><a href="../../../../net/index.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">package</span></span> <span class="symbol"><a href="../../../index.html" title=""><span class="name">net</span></a></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd><a href="../../../../index.html" name="_root_" id="_root_" class="extype">root</a></dd></dl></div></li><li class="indented2 " name="net.psforever" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="psforever" class="anchorToMember"></a><a id="psforever:psforever" class="anchorToMember"></a> <span class="permalink"><a href="../../../../net/psforever/index.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">package</span></span> <span class="symbol"><a href="../../index.html" title=""><span class="name">psforever</span></a></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd><a href="../../../index.html" name="net" id="net" class="extype">net</a></dd></dl></div></li><li class="indented3 " name="net.psforever.actors" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="actors" class="anchorToMember"></a><a id="actors:actors" class="anchorToMember"></a> <span class="permalink"><a href="../../../../net/psforever/actors/index.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">package</span></span> <span class="symbol"><a href="../index.html" title=""><span class="name">actors</span></a></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd><a href="../../index.html" name="net.psforever" id="net.psforever" class="extype">psforever</a></dd></dl></div></li><li class="indented4 " name="net.psforever.actors.commands" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="commands" class="anchorToMember"></a><a id="commands:commands" class="anchorToMember"></a> <span class="permalink"><a href="../../../../net/psforever/actors/commands/index.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">package</span></span> <span class="symbol"><a href="../commands/index.html" title=""><span class="name">commands</span></a></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd><a href="../index.html" name="net.psforever.actors" id="net.psforever.actors" class="extype">actors</a></dd></dl></div></li><li class="indented4 current" name="net.psforever.actors.net" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="net" class="anchorToMember"></a><a id="net:net" class="anchorToMember"></a> <span class="permalink"><a href="../../../../net/psforever/actors/net/index.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">package</span></span> <span class="symbol"><span class="name">net</span></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd><a href="../index.html" name="net.psforever.actors" id="net.psforever.actors" class="extype">actors</a></dd></dl></div></li><li class="current-entities indented4"><span class="separator"></span> <a href="LoginActor.html" title="" class="class"></a><a href="LoginActor.html" title="">LoginActor</a></li><li class="current-entities indented4"><a href="MiddlewareActor$.html" title="MiddlewareActor sits between the raw UDP socket and the &quot;main&quot; actors (either LoginActor or SessionActor) and handles crypto and control packets." class="object"></a> <a href="MiddlewareActor.html" title="MiddlewareActor sits between the raw UDP socket and the &quot;main&quot; actors (either login or session) and handles crypto and control packets." class="class"></a><a href="MiddlewareActor.html" title="MiddlewareActor sits between the raw UDP socket and the &quot;main&quot; actors (either login or session) and handles crypto and control packets.">MiddlewareActor</a></li><li class="current-entities indented4"><a href="SocketActor$.html" title="SocketActor creates a UDP socket, receives packets and forwards them to MiddlewareActor There is only one SocketActor, but each connected client gets its own MiddlewareActor" class="object"></a> <a href="SocketActor.html" title="" class="class"></a><a href="SocketActor.html" title="">SocketActor</a></li><li class="indented4 " name="net.psforever.actors.session" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="session" class="anchorToMember"></a><a id="session:session" class="anchorToMember"></a> <span class="permalink"><a href="../../../../net/psforever/actors/session/index.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">package</span></span> <span class="symbol"><a href="../session/index.html" title=""><span class="name">session</span></a></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd><a href="../index.html" name="net.psforever.actors" id="net.psforever.actors" class="extype">actors</a></dd></dl></div></li><li class="indented4 " name="net.psforever.actors.zone" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="zone" class="anchorToMember"></a><a id="zone:zone" class="anchorToMember"></a> <span class="permalink"><a href="../../../../net/psforever/actors/zone/index.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">package</span></span> <span class="symbol"><a href="../zone/index.html" title=""><span class="name">zone</span></a></span><div class="fullcomment"><dl class="attributes block"><dt>Definition Classes</dt><dd><a href="../index.html" name="net.psforever.actors" id="net.psforever.actors" class="extype">actors</a></dd></dl></div></li></ul></div></div><div id="content"><body class="package value"><div id="definition"><div class="big-circle package">p</div><p id="owner"><a href="../../../index.html" name="net" id="net" class="extype">net</a>.<a href="../../index.html" name="net.psforever" id="net.psforever" class="extype">psforever</a>.<a href="../index.html" name="net.psforever.actors" id="net.psforever.actors" class="extype">actors</a></p><h1>net<span class="permalink"><a href="../../../../net/psforever/actors/net/index.html" title="Permalink"><i class="material-icons"></i></a></span></h1></div><h4 id="signature" class="signature"><span class="modifier_kind"><span class="modifier"></span> <span class="kind">package</span></span> <span class="symbol"><span class="name">net</span></span></h4><div id="comment" class="fullcommenttop"></div><div id="mbrsel"><div class="toggle"></div><div id="memberfilter"><i class="material-icons arrow"></i><span class="input"><input placeholder="Filter all members" id="mbrsel-input" type="text" accesskey="/"/></span><i class="clear material-icons"></i></div><div id="filterby"><div id="order"><span class="filtertype">Ordering</span><ol><li class="alpha in"><span>Alphabetic</span></li></ol></div><div id="visbl"><span class="filtertype">Visibility</span><ol><li class="public in"><span>Public</span></li><li class="protected out"><span>Protected</span></li></ol></div></div></div><div id="template"><div id="allMembers"><div id="types" class="types members"><h3>Type Members</h3><ol><li class="indented0 " name="net.psforever.actors.net.LoginActor" group="Ungrouped" fullComment="no" data-isabs="false" visbl="pub"><a id="LoginActorextendsActorwithMDCContextAware" class="anchorToMember"></a><a id="LoginActor:LoginActor" class="anchorToMember"></a> <span class="permalink"><a href="../../../../net/psforever/actors/net/LoginActor.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">class</span></span> <span class="symbol"><a href="LoginActor.html" title=""><span class="name">LoginActor</span></a><span class="result"> extends <span name="akka.actor.Actor" class="extype">Actor</span> with <a href="../../../../akka/actor/MDCContextAware.html" name="akka.actor.MDCContextAware" id="akka.actor.MDCContextAware" class="extype">MDCContextAware</a></span></span></li><li class="indented0 " name="net.psforever.actors.net.MiddlewareActor" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="MiddlewareActorextendsAnyRef" class="anchorToMember"></a><a id="MiddlewareActor:MiddlewareActor" class="anchorToMember"></a> <span class="permalink"><a href="../../../../net/psforever/actors/net/MiddlewareActor.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">class</span></span> <span class="symbol"><a href="MiddlewareActor.html" title="MiddlewareActor sits between the raw UDP socket and the &quot;main&quot; actors (either login or session) and handles crypto and control packets."><span class="name">MiddlewareActor</span></a><span class="result"> extends <span name="scala.AnyRef" class="extype">AnyRef</span></span></span><p class="shortcomment cmt">MiddlewareActor sits between the raw UDP socket and the "main" actors (either login or session) and handles
crypto and control packets.</p><div class="fullcomment"><div class="comment cmt"><p>MiddlewareActor sits between the raw UDP socket and the "main" actors (either login or session) and handles
crypto and control packets. This means it sets up cryptography, it decodes incoming packets,
it encodes, bundles and splits outgoing packets, it handles things like requesting/resending lost packets and more.
</p></div></div></li><li class="indented0 " name="net.psforever.actors.net.SocketActor" group="Ungrouped" fullComment="no" data-isabs="false" visbl="pub"><a id="SocketActorextendsAnyRef" class="anchorToMember"></a><a id="SocketActor:SocketActor" class="anchorToMember"></a> <span class="permalink"><a href="../../../../net/psforever/actors/net/SocketActor.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">class</span></span> <span class="symbol"><a href="SocketActor.html" title=""><span class="name">SocketActor</span></a><span class="result"> extends <span name="scala.AnyRef" class="extype">AnyRef</span></span></span></li></ol></div><div class="values members"><h3>Value Members</h3><ol><li class="indented0 " name="net.psforever.actors.net.MiddlewareActor" group="Ungrouped" fullComment="yes" data-isabs="false" visbl="pub"><a id="MiddlewareActor" class="anchorToMember"></a><a id="MiddlewareActor:MiddlewareActor" class="anchorToMember"></a> <span class="permalink"><a href="../../../../net/psforever/actors/net/MiddlewareActor$.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">object</span></span> <span class="symbol"><a href="MiddlewareActor$.html" title="MiddlewareActor sits between the raw UDP socket and the &quot;main&quot; actors (either LoginActor or SessionActor) and handles crypto and control packets."><span class="name">MiddlewareActor</span></a></span><p class="shortcomment cmt"><code>MiddlewareActor</code> sits between the raw UDP socket and the "main" actors
(either <code>LoginActor</code> or <code>SessionActor</code>)
and handles crypto and control packets.</p><div class="fullcomment"><div class="comment cmt"><p><code>MiddlewareActor</code> sits between the raw UDP socket and the "main" actors
(either <code>LoginActor</code> or <code>SessionActor</code>)
and handles crypto and control packets.
The former side is called the outbound network (the clients); the former is called the inbound local (server).
This service sets up cryptography, it decodes incoming packets, it encodes, bundles, or splits outgoing packets,
and it handles things like requesting/resending lost packets.
Accurate operation of the service is mostly a product of the network being agreeable
and allowing packets to arrive correctly.
Various subroutines are used to keep track of the predicted offending packets.<br>
<br>
The cryptographic aspect of the service resolves itself first,
exchanging keys and passcodes and challeneges between local and the network.
Most of this process occurs without any prior cryptographic setup,
relying on the validation of its own exchange to operate.
Afterwards its completion,
all raw data arriving from the network or leaving to the network will require a cipher
based on the previously exchanged data.
<br>
As packets arrive from local with the intention of being sent out towards the network terminus,
they will be pooled into a buffer.
Periodically, the buffer contents will be evaluated,
and packet data of enough quantity and combined length will be assembled into a singular packet bundle.
This bundle will be queued and dispatched towards the network.
If the outbound packets do not arrive at the network terminus correctly,
the network has a method of dispatching requests for identified missing packets.
This side of the communication will keep track of its previously dispatched packets for a "reasonable" amount of time
and will respond to those requests if possible by searching its catalog.<br>
<br>
If the inbound packets do not arrive correctly the first time,
after a while, requests for identified mising packets from the network source will occur.
Virtually all important packets have a sequence number that bestows on each packet an absolute delivery order.
Bundled packets have a subslot number that indicates the total number of subslot packets dispatched to this client
as well as the order in which the packets should have been received.
If a packet is out of sequence - a future packet, compared to what is being expected - it is buffered.
Should the expected packets show up out of order before the buffered is cleared,
everything sorts itself out.
Unresolved missing sequence entries will often lead to requests for missing packets with anticipated subslots.
If these requests do not resolve, there is unfortuantely not much that can be done except grin and bear with it.
</p></div></div></li><li class="indented0 " name="net.psforever.actors.net.SocketActor" group="Ungrouped" fullComment="no" data-isabs="false" visbl="pub"><a id="SocketActor" class="anchorToMember"></a><a id="SocketActor:SocketActor" class="anchorToMember"></a> <span class="permalink"><a href="../../../../net/psforever/actors/net/SocketActor$.html" title="Permalink"><i class="material-icons"></i></a></span> <span class="modifier_kind"><span class="modifier"></span> <span class="kind">object</span></span> <span class="symbol"><a href="SocketActor$.html" title="SocketActor creates a UDP socket, receives packets and forwards them to MiddlewareActor There is only one SocketActor, but each connected client gets its own MiddlewareActor"><span class="name">SocketActor</span></a></span><p class="shortcomment cmt">SocketActor creates a UDP socket, receives packets and forwards them to MiddlewareActor
There is only one SocketActor, but each connected client gets its own MiddlewareActor
</p></li></ol></div></div><div id="inheritedMembers"></div><div id="groupedMembers"><div name="Ungrouped" class="group"><h3>Ungrouped</h3></div></div></div><div id="tooltip"></div><div id="footer"></div></body></div></div></div></body></html>
